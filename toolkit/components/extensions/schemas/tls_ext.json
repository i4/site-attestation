[
  {
    "namespace": "manifest",
    "types": [
      {
        "$extend": "PermissionNoPrompt",
        "choices": [
          {
            "type": "string",
            "enum": [
              "tlsExt"
            ]
          }
        ]
      }
    ]
  },
  {
    "namespace": "tlsExt",
    "permissions": [
      "tlsExt"
    ],
    "functions": [
      {
        "name": "getTlsExtensionSupport",
        "type": "function",
        "async": true,
        "description": "...",
        "parameters": [
          {
            "name": "extension",
            "type": "integer",
            "description": "..."
          }
        ],
        "returns": {
          "$ref": "SSLExtensionSupport",
          "description": "..."
        }
      }
    ],
    "events": [
      {
        "name": "onWriteTlsExtension",
        "type": "function",
        "description": "...",
        "parameters": [
          {
            "name": "messageSSLHandshakeType",
            "$ref": "SSLHandshakeType"
          },
          {
            "name": "maxLen",
            "type": "number"
          },
          {
            "name": "details",
            "$ref": "ExtensionDetails"
          }
        ],
        "extraParameters": [
          {
            "name": "urlPattern",
            "description": "...",
            "type": "string"
          },
          {
            "name": "extension",
            "description": "...",
            "type": "number"
          }
        ],
        "returns": {
          "type": "string",
          "description": "..."
        }
      },
      {
        "name": "onHandleTlsExtension",
        "type": "function",
        "description": "...",
        "parameters": [
          {
            "name": "messageSSLHandshakeType",
            "$ref": "SSLHandshakeType"
          },
          {
            "name": "data",
            "type": "string"
          },
          {
            "name": "details",
            "$ref": "ExtensionDetails"
          }
        ],
        "extraParameters": [
          {
            "name": "urlPattern",
            "description": "...",
            "type": "string"
          },
          {
            "name": "extension",
            "description": "...",
            "type": "number"
          }
        ],
        "returns": {
          "$ref": "SECStatus",
          "description": "..."
        }
      }
    ],
    "types": [
      {
        "id": "ExtensionDetails",
        "description": "...",
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "extension": {
            "type": "number"
          }
        }
      },
      {
        "id": "SSLHandshakeType",
        "description": "...",
        "type": "string",
        "enum": [
          "ssl_hs_hello_request",
          "ssl_hs_client_hello",
          "ssl_hs_server_hello",
          "ssl_hs_hello_verify_request",
          "ssl_hs_new_session_ticket",
          "ssl_hs_end_of_early_data",
          "ssl_hs_hello_retry_request",
          "ssl_hs_encrypted_extensions",
          "ssl_hs_certificate",
          "ssl_hs_server_key_exchange",
          "ssl_hs_certificate_request",
          "ssl_hs_server_hello_done",
          "ssl_hs_certificate_verify",
          "ssl_hs_client_key_exchange",
          "ssl_hs_finished",
          "ssl_hs_certificate_status",
          "ssl_hs_key_update",
          "ssl_hs_next_proto",
          "ssl_hs_message_hash",
          "ssl_hs_ech_outer_client_hello"
        ]
      },
      {
        "id": "SECStatus",
        "description": "...",
        "type": "string",
        "enum": [
          "SECWouldBlock",
          "SECFailure",
          "SECSuccess"
        ]
      },
      {
        "id": "SSLExtensionSupport",
        "description": "...",
        "type": "string",
        "enum": [
          "ssl_ext_none",
          "ssl_ext_native",
          "ssl_ext_native_only"
        ]
      }
    ],
    "properties": {}
  }
]